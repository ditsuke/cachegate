include:
  - docker-compose.yml

services:
  cachegate:
    build: .
    container_name: cachegate
    environment:
      CACHEGATE_CONFIG: |
        listen: "0.0.0.0:8080"
        auth:
          # Replace these keys ;)
          public_key: "PfIG9MO7yrSFq4DNs7GPFC4CticILjGtqpoh43p3ipE"
          private_key: "NC7y4q2_rmnWBhlnEo34B9FddA0DkGlu7XGOs76bZn8"
          bearer_token: "hicg="
        cache:
          max_memory: 500MiB
          max_disk: 1GiB
          max_object_size: 50MiB
        sentry:
          dsn: null
          environment: null
          release: null
          traces_sample_rate: 0.1
          debug: false
        stores:
          media-s3:
            type: s3
            bucket: "my-bucket"
            region: "us-east-1"
            access_key: "minioadmin"
            secret_key: "minioadmin"
            endpoint: "http://minio:9305"
            allow_http: true
    ports:
      - "8080:8080"
    depends_on:
      - minio
